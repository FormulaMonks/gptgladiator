{% extends 'base.html' %}

<h1>{% block title %}Home{% endblock %}</h1>

{% block header %}
    <p>
        Type a prompt below, the app will ask Open AI via the Completion API to answer the question 3 times. The
        responses are returned with a level of confidence between 1 and 100 and the answer(s) with the highest
        confidence are highlighted.
    </p>
{% endblock %}

{% block content %}

    <form method="post">
        <label for="prompt">Original prompt</label>
        <textarea name="prompt" id="prompt" required>{{ prompt }}</textarea>
        <input type="submit" value="Go">
    </form>

    <div class="replies">
        {% for reply in prompt_replies %}
            <article class="reply {{ 'best' if highest_confidence == reply['confidence'] }}">
                <header>
                    <div>
                        <div class="explanation">
                            <p class="rate">Confidence: {{ reply['confidence'] }}%</p>
                            <hr>
                            <p>Because: {{ reply['explanation'] }}</p>
                        </div>
                    </div>
                </header>
                <p class="body">{{ reply['answer'] }}</p>

            </article>
        {% endfor %}
    </div>
{% endblock %}